/* 
 *  Theme Name: JellyPress
 *  Theme URI: https://github.com/epls-design/ezpz-jellypress
 *  Author: EPLS Design <theteam@epls.design>
 *  Author URI: https://epls.design
 *  Description: Jellypress is a Wordpress starter theme based on the Jellyfish CSS framework and Automattic's Underscores(_S) theme.
 *  Tags: wordpress,theme,responsive,woocommerce,ACF,Advanced Custom Fields,CMS,flexbox,CSS,framework,SCSS,SASS,gulp
 *  Version: 2.0.0
 *  License: UNLICENSED
 *  Text Domain: jellypress */ 
var infowindow,breakPoints={navBar:900,sm:600,md:900,lg:1200,xl:1800};function jfGetTimeRemaining(e){var e=Date.parse(e)-Date.parse(new Date),t=Math.floor(e/1e3%60),n=Math.floor(e/1e3/60%60),a=Math.floor(e/36e5%24);return{total:e,days:Math.floor(e/864e5),hours:a,minutes:n,seconds:t}}function jfInitializeClock(e,t){const n=document.getElementById(e),a=n.querySelector(".days"),o=n.querySelector(".hours"),i=n.querySelector(".minutes"),s=n.querySelector(".seconds");function r(){var e=jfGetTimeRemaining(t);0<=e.total&&(a.innerHTML=("0"+e.days).slice(-2),o.innerHTML=("0"+e.hours).slice(-2),i.innerHTML=("0"+e.minutes).slice(-2),s.innerHTML=("0"+e.seconds).slice(-2)),e.total<=0&&(n.classList.add("complete"),clearInterval(l))}r();const l=setInterval(r,1e3)}!function(s){function r(e){return e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}if(window.IntersectionObserver){let t=new IntersectionObserver((e,t)=>{e.forEach(e=>{var t,n,a,o,i;e.isIntersecting&&(e=e.target,t=s(e),n=t.attr("data-count"),o=a="",i=3e3,t.text("0"),e.hasAttribute("data-prefix")&&(a='<span class="small">'+t.attr("data-prefix")+"</span>"),e.hasAttribute("data-suffix")&&(o='<span class="small">'+t.attr("data-suffix")+"</span>"),e.hasAttribute("data-duration")&&(i=Number(t.attr("data-duration"))),t.removeClass("count-to"),s({countNum:t.text()}).animate({countNum:n},{duration:i,easing:"linear",step:function(){t.html(a+r(Math.floor(this.countNum))+o)},complete:function(){t.html(a+r(this.countNum)+o)}}))})},{rootMargin:"0px 0px -20px 0px"});document.querySelectorAll(".count-to").forEach(e=>t.observe(e))}}(jQuery),function(s){function a(e){var t,n=e.find(".marker"),a={zoom:e.data("zoom")||16,styles:[{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"water",elementType:"geometry",stylers:[{visibility:"on"},{color:"#C6E2FF"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{color:"#C5E3BF"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#D1D1B8"}]}],mapTypeId:google.maps.MapTypeId.ROADMAP},i=new google.maps.Map(e[0],a);return infowindow=new google.maps.InfoWindow,i.markers=[],n.each(function(){var e,t,n,a,o;e=s(this),t=i,n=e.data("lat"),a=e.data("lng"),n={lat:parseFloat(n),lng:parseFloat(a)},a=e.attr("data-icon"),o=new google.maps.Marker({position:n,map:t,icon:a}),t.markers.push(o),e.html()&&google.maps.event.addListener(o,"click",function(){infowindow.setOptions({content:e.html()}),infowindow.open(t,o)})}),e=i,t=new google.maps.LatLngBounds,e.markers.forEach(function(e){t.extend({lat:e.position.lat(),lng:e.position.lng()})}),1==e.markers.length?e.setCenter(t.getCenter()):e.fitBounds(t),i}s(document).ready(function(){var e=[].slice.call(document.querySelectorAll(".google-map"));if("IntersectionObserver"in window){let n=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(a(s(e.target)),n.unobserve(e.target))})},{rootMargin:"0px 0px 300px 0px"});e.forEach(function(e){n.observe(e)})}else e.forEach(function(e){a(s(e))})})}(jQuery);var forEach=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(n,e[a],a,e);else for(var o=0,i=e.length;o<i;o++)t.call(n,e[o],o,e)},hamburgers=document.querySelectorAll(".hamburger");function jellypressPlayYoutube(){event.target.playVideo()}function jellypressPlayVimeo(){event.target.play()}function jfSetCookie(e,t,n){var a,n=n?((a=new Date).setTime(a.getTime()+24*n*60*60*1e3),";expires="+a.toUTCString()):"";document.cookie=e+"="+encodeURIComponent(t)+n+";path=/"}function jfGetCookie(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var o=n[a];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function jfDestroyCookie(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function jfdebug(){document.getElementsByTagName("body")[0].classList.toggle("jf-debug")}function jfLazyLoadBackgroundImage(e){var t=e.getAttribute("data-bg-img");e.style.backgroundImage="url("+t+")",e.removeAttribute("data-bg-img")}0<hamburgers.length&&forEach(hamburgers,function(e){e.addEventListener("click",function(){this.classList.toggle("is-active")},!1)}),function(t){t("#searchform").submit(function(e){t(this).find("#s").val()||(e.preventDefault(),alert("Please enter a search term"),t("#s").focus())})}(jQuery),/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(e=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())},!1),function(a){function o(e){var t=e.find(".play"),n=e.find("iframe"),a=n[0];e.addClass("playing"),t.hasClass("platform-vimeo")?(void 0===n.attr("src")?(n.attr("src",t.data("src")),(vimeoPlayer=new Vimeo.Player(a)).on("loaded",jellypressPlayVimeo)):(vimeoPlayer=new Vimeo.Player(a),jellypressPlayVimeo()),vimeoPlayer.play()):t.hasClass("platform-youtube")&&(void 0===n.attr("src")?(n.attr("src",t.data("src")),void 0===new YT.Player(a,{events:{onReady:jellypressPlayYoutube}}).playVideo&&n.attr("src",n.attr("src").replace("autoplay=0","autoplay=1"))):new YT.Player(a))}a(document).on("click touch",".video-wrapper",function(){o(a(this))}),a(document).ready(function(){if("IntersectionObserver"in window){let n=new IntersectionObserver(function(e,t){e.forEach(function(e){var t;e.isIntersecting&&(t=e.target,t=a(t),o(($button=t.find(".play")).closest(".video-wrapper")),n.unobserve(e.target))})},{rootMargin:"0px 0px -50px 0px"});[].slice.call(document.querySelectorAll(".video-autoplay")).forEach(function(e){n.observe(e)})}})}(jQuery),function(e){e("button.font-size").click(function(){e(this).hasClass("font-size-sm")?(e(document.body).removeClass("font-size-md font-size-lg").addClass("font-size-sm"),e("button.font-size").removeClass("active"),e(this).addClass("active"),jfSetCookie("fontsize","sm")):e(this).hasClass("font-size-md")?(e(document.body).removeClass("font-size-sm font-size-lg").addClass("font-size-md"),e("button.font-size").removeClass("active"),e(this).addClass("active"),jfSetCookie("fontsize","md")):e(this).hasClass("font-size-lg")&&(e(document.body).removeClass("font-size-sm font-size-md").addClass("font-size-lg"),e("button.font-size").removeClass("active"),e(this).addClass("active"),jfSetCookie("fontsize","lg"))}),e("button.toggle-contrast").click(function(){e(this).hasClass("active")?(e(document.body).removeClass("dark-ui"),e(this).removeClass("active"),jfSetCookie("ui-mode","light")):(e(document.body).addClass("dark-ui"),e(this).addClass("active"),jfSetCookie("ui-mode","dark"))}),e(document).ready(function(e){switch(jfGetCookie("fontsize")){case"sm":e(document.body).removeClass("font-size-md font-size-lg").addClass("font-size-sm"),e("button.font-size").removeClass("active"),e("button.font-size-sm").addClass("active");break;case"md":e(document.body).removeClass("font-size-sm font-size-lg").addClass("font-size-md"),e("button.font-size").removeClass("active"),e("button.font-size-md").addClass("active");break;case"lg":e(document.body).removeClass("font-size-md font-size-md").addClass("font-size-lg"),e("button.font-size").removeClass("active"),e("button.font-size-lg").addClass("active")}"dark"===jfGetCookie("ui-mode")&&(e(document.body).addClass("dark-ui"),e("button.toggle-contrast").addClass("active"))})}(jQuery),function(t){t('a[href^="mailto:"]').click(function(){if("undefined"!=typeof gtag)return gtag("event","contact",{event_category:"Email Enquiry",event_action:"Mailto Click",event_label:t(this).attr("href")}),!0}),t('a[href^="tel:"]').click(function(){if("undefined"!=typeof gtag)return gtag("event","contact",{event_category:"Telephone Enquiry",event_action:"Tel Link Click",event_label:t(this).attr("href")}),!0}),t('a[href$=".pdf"]').click(function(){if("undefined"!=typeof gtag)return gtag("event","contact",{event_category:"PDF Download",event_action:"Download",event_label:t(this).attr("href")}),!0}),t("a:not([href*='"+document.domain+"'],[href*='mailto'],[href*='tel'],a[href$='.pdf'])").click(function(e){if("undefined"!=typeof gtag&&"#"!=t(this).attr("href").charAt(0)&&!t(this).attr("href").startsWith("javascript"))return gtag("event","contact",{event_category:"External Link",event_action:"Link Click",event_label:t(this).attr("href")}),!0})}(jQuery),document.addEventListener("DOMContentLoaded",function(){var e=[].slice.call(document.querySelectorAll(".has-bg-img"));if("IntersectionObserver"in window){let n=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(jfLazyLoadBackgroundImage(e.target),n.unobserve(e.target))})},{rootMargin:"0px 0px 300px 0px"});e.forEach(function(e){n.observe(e)})}else e.forEach(function(e){jfLazyLoadBackgroundImage(e)})}),function(a){a(".navbar .hamburger").on("click touch",function(e){var t=(n=a(this).parents(".navbar")).find(".navbar-menu"),n=n.find(".hamburger");t.length&&(t.hasClass("is-off-canvas")?(t.hasClass("is-active")&&(t.addClass("closing"),setTimeout(function(){t.removeClass("closing")},550)),a("body").toggleClass("has-active-nav")):t.slideToggle(),t.toggleClass("is-active"),n.length)&&(t.hasClass("is-off-canvas")&&n.first().toggle(),n.each(function(){"true"===a(this).attr("aria-expanded")?(a(this).attr("aria-expanded","false"),a(this).removeClass("is-active")):(a(this).attr("aria-expanded","true"),a(this).addClass("is-active"))}))}),a(document).on("click",'li.has-children > a:not(".clicked"), li.menu-item-has-children > a:not(".clicked")',function(e){a(window).width()<breakPoints.navBar&&(a(this).addClass("clicked"),e.preventDefault(),a(this).parent("li").toggleClass("drop-active").attr("aria-expanded","true"))})}(jQuery);