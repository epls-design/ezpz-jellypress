/* 
 *  Theme Name: JellyPress
 *  Theme URI: https://github.com/epls-design/ezpz-jellypress
 *  Author: EPLS Design <theteam@epls.design>
 *  Author URI: https://epls.design
 *  Description: Jellypress is a Wordpress starter theme based on the Jellyfish CSS framework and Automattic's Underscores(_S) theme.
 *  Tags: wordpress,theme,responsive,woocommerce,ACF,Advanced Custom Fields,CMS,flexbox,CSS,framework,SCSS,SASS,gulp
 *  Version: 2.4.0
 *  License: UNLICENSED
 *  Text Domain: jellypress */ 
var breakPoints={navBar:900,sm:600,md:900,lg:1200,xl:1800},forEach=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else for(var a=0,i=e.length;a<i;a++)t.call(n,e[a],a,e)},hamburgers=document.querySelectorAll(".hamburger");function changeRootFontSize(e){document.body.classList.remove("font-size-sm","font-size-md","font-size-lg"),document.body.classList.add("font-size-"+e),document.querySelectorAll("button.font-size").forEach(function(e){e.classList.remove("active")});var t=document.querySelector("button.font-size-"+e);t&&t.classList.add("active"),jfSetCookie("fontsize",e)}function jfSetCookie(e,t,n){var o,n=n?((o=new Date).setTime(o.getTime()+24*n*60*60*1e3),";expires="+o.toUTCString()):"";document.cookie=e+"="+encodeURIComponent(t)+n+";path=/"}function jfGetCookie(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}function jfDestroyCookie(e){document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}function jfDebounceHandle(t,n=300){let o;return(...e)=>{clearTimeout(o),o=setTimeout(()=>{t.apply(this,e)},n)}}function jfDebounce(e,t,n=300,o=[]){Array.isArray(n)&&(o=n,n=300),n=jfDebounceHandle(()=>t(...o),n),window.addEventListener(e,n)}function jfDebug(){document.getElementsByTagName("body")[0].classList.toggle("jf-debug")}function jfLazyLoadBackgroundImage(e){var t=e.getAttribute("data-bg-img");e.style.backgroundImage="url("+t+")",e.removeAttribute("data-bg-img")}0<hamburgers.length&&forEach(hamburgers,function(e){e.addEventListener("click",function(){this.classList.toggle("is-active")},!1)}),function(t){t("#searchform").submit(function(e){t(this).find("#s").val()||(e.preventDefault(),alert("Please enter a search term"),t("#s").focus())})}(jQuery),/(trident|msie)/i.test(navigator.userAgent)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var e=location.hash.substring(1);/^[A-z0-9_-]+$/.test(e)&&(e=document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1),e.focus())},!1),document.addEventListener("DOMContentLoaded",function(){switch(document.querySelectorAll("button.font-size").forEach(function(t){t.addEventListener("click",function(){var e=t.classList.contains("font-size-sm")?"sm":t.classList.contains("font-size-md")?"md":t.classList.contains("font-size-lg")?"lg":null;e&&changeRootFontSize(e)})}),jfGetCookie("fontsize")){case"sm":changeRootFontSize("sm");break;case"md":changeRootFontSize("md");break;case"lg":changeRootFontSize("lg")}}),void 0===breakPoints&&(breakPoints={navBar:1200,sm:600,md:900,lg:1200,xl:1800}),document.addEventListener("DOMContentLoaded",function(){var e=[].slice.call(document.querySelectorAll(".has-bg-img"));if("IntersectionObserver"in window){let n=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(jfLazyLoadBackgroundImage(e.target),n.unobserve(e.target))})},{rootMargin:"0px 0px 300px 0px"});e.forEach(function(e){n.observe(e)})}else e.forEach(function(e){jfLazyLoadBackgroundImage(e)})});class jellyfishModals{constructor(){this.currentModalId=null,this.modalTimer=0,this.modalInterval=null,this.incrementTimer=this.incrementTimer.bind(this),this.toggleModal=this.toggleModal.bind(this),this.openModal=this.openModal.bind(this),this.closeModal=this.closeModal.bind(this)}incrementTimer(){this.modalTimer+=1}toggleModal(e,t=!1){t&&this.closeModal(),document.getElementById(e)&&(this.currentModalId===e?this.closeModal():this.openModal(e))}closeModal(){var e=document.getElementById(this.currentModalId);e&&(e.close(),e=new CustomEvent("jfModalClosed",{detail:{closedModalId:this.currentModalId}}),document.dispatchEvent(e),window.dataLayer=window.dataLayer||[],dataLayer.push({event:"modalClosed",modalId:"#"+this.currentModalId,timeOpen:this.modalTimer}),this.currentModalId=null,document.body.classList.contains("has-open-modal"))&&document.body.classList.remove("has-open-modal")}openModal(e,t=!1){t&&this.closeModal();const n=document.getElementById(e);n&&(n.showModal(),this.currentModalId=e,this.modalTimer=0,this.modalInterval&&clearInterval(this.modalInterval),this.modalInterval=setInterval(this.incrementTimer,1e3),t=new CustomEvent("jfModalOpened",{detail:{newModalId:e}}),document.dispatchEvent(t),n.querySelector(".modal-content")&&n.querySelector(".modal-content").scrollTo(0,0),n.addEventListener("click",e=>{var t=n.getBoundingClientRect();(e.clientX<t.left||e.clientX>t.right||e.clientY<t.top||e.clientY>t.bottom)&&"BUTTON"!==e.target.tagName&&this.closeModal()}),n.classList.contains("modal")&&(this.initializeModalGroup(n),this.appendCloseButton(n)),window.dataLayer=window.dataLayer||[],dataLayer.push({event:"modalOpened",modalId:"#"+e}),document.body.classList.contains("has-open-modal")||document.body.classList.add("has-open-modal"))}initializeModalGroup(e){var t=e.dataset.modalgroup;if(t&&!e.querySelector(".modal-navigation")){const n=document.querySelectorAll(`[data-modalgroup="${t}"]`);n.forEach((e,t)=>{this.appendArrows(e,t,n)})}}appendCloseButton(e){var t;e.querySelector(".modal-close")||((t=document.createElement("button")).classList.add("modal-close"),t.addEventListener("click",this.closeModal),t.setAttribute("title","Close this modal"),e.append(t))}appendArrows(e,t,n){var o=document.createElement("div"),a=(o.classList.add("modal-navigation"),n[0===t?n.length-1:t-1]),a=((a=this.createArrow("Previous (Left arrow key)",`toggleModal('${a.id}', true);`)).classList.add("modal-navigation--prev"),o.appendChild(a),n[t===n.length-1?0:t+1]);(n=this.createArrow("Next (Right arrow key)",`toggleModal('${a.id}', true);`)).classList.add("modal-navigation--next"),o.appendChild(n),e.appendChild(o)}createArrow(e,t){var n=document.createElement("button");return n.classList.add("modal-navigation-button"),n.setAttribute("onclick",t),n.setAttribute("title",e),n}handleKeyDown(e){var t;this.currentModalId&&!e.repeat&&("Escape"===e.key&&this.currentModalId?this.closeModal():"ArrowLeft"===e.key&&this.currentModalId?(t=(t=document.getElementById(this.currentModalId))&&t.querySelector(".modal-navigation--prev"))&&t.click():"ArrowRight"===e.key&&this.currentModalId&&(t=document.getElementById(this.currentModalId))&&(e=t.querySelector(".modal-navigation--next"))&&e.click())}}const modalManager=new jellyfishModals,toggleModal=(e,t)=>modalManager.toggleModal(e,t);function jfGetNavbarType(e){return e.classList.contains("is-off-canvas")?"off-canvas":"drop-down"}function jfToggleNavBar(e,t){var n=e.querySelector(".navbar-menu"),e=e.querySelectorAll(".hamburger");n&&("off-canvas"===t?(n.classList.contains("is-active")&&(n.classList.add("closing"),setTimeout(function(){n.classList.remove("closing")},550)),document.body.classList.toggle("has-active-nav")):"drop-down"===t&&(n.style.display="none"===n.style.display||""===n.style.display?"block":"none"),e.length&&e.forEach(function(e){var t="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",t?"false":"true"),e.classList.toggle("is-active",!t)}),n.classList.toggle("is-active"))}document.addEventListener("keydown",e=>modalManager.handleKeyDown(e)),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".navbar .hamburger").forEach(function(e){e.addEventListener("click",function(e){var t=this.closest(".navbar"),n=t.querySelector(".navbar-menu");n&&jfToggleNavBar(t,jfGetNavbarType(n))})})}),document.addEventListener("click",function(e){var t=e.target;t.matches("li.has-children > a:not(.clicked), li.menu-item-has-children > a:not(.clicked)")&&window.innerWidth<breakPoints.navBar&&(t.classList.add("clicked"),e.preventDefault(),t.parentElement.classList.toggle("drop-active"),t.parentElement.setAttribute("aria-expanded",t.parentElement.classList.contains("drop-active")?"true":"false"))}),document.addEventListener("keydown",function(e){"Escape"===e.key&&(e=document.querySelectorAll(".navbar-menu.is-active")).length&&e.forEach(function(e){jfToggleNavBar(e.closest(".navbar"),jfGetNavbarType(e))})}),document.addEventListener("click",function(e){!document.body.classList.contains("has-active-nav")||e.target.closest(".navbar-menu")||e.target.closest(".hamburger")||(e=document.querySelectorAll(".navbar-menu.is-active")).length&&e.forEach(function(e){jfToggleNavBar(e.closest(".navbar"),e=e.classList.contains("is-off-canvas")?"off-canvas":"drop-down")})}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".is-responsive");if(0<e.length)for(var t=0;t<e.length;t++){var n=e[t].querySelector("thead"),o=e[t].querySelector("tbody");if(n&&o){for(var a=n.querySelectorAll("th"),i=[],s=0;s<a.length;s++)i.push(a[s].innerHTML);if(0<i.length)for(var r=o.querySelectorAll("tr"),l=0;l<r.length;l++)for(var d=r[l].querySelectorAll("td"),c=0;c<d.length;c++)d[c].setAttribute("data-label",i[c])}}});